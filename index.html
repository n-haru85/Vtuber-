<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>キャラクターカタログ（Firebaseリアルタイム）</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <style>
    body { font-family:"Segoe UI"; background:#1e1e2f; color:#eee; max-width:800px; margin:20px auto; padding:20px; border-radius:12px; }
    h1 { text-align:center; color:#ffd700; }
    .options { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:16px; }
    .option { background:#2e2e3e; padding:8px 12px; border-radius:6px; cursor:pointer; min-width:40px; text-align:center; transition: all 0.2s ease; }
    .option:hover { background:#3e3e5e; transform: scale(1.05); }
    .option.selected { background:#ffd700; color:#000; font-weight:bold; transform: scale(1.1); }
    button { margin-top:16px; padding:10px 20px; border:none; border-radius:8px; background:#4caf50; color:white; cursor:pointer; transition:0.2s; }
    button:hover { background:#43a047; transform:scale(1.05); }
    .hidden { display:none; }
    #viewer { background:#2e2e3e; padding:20px; border-radius:8px; margin-top:20px; }
    #summary-box { position:absolute; bottom:10px; right:10px; background:rgba(255,215,0,0.9); color:#000; padding:8px 12px; border-radius:6px; font-size:0.85em; }
    input[type=number] { width:100px; padding:6px; border-radius:6px; border:1px solid #ccc; margin-bottom:12px; }
  </style>
</head>
<body>

<h1>キャラクターカタログ（Firebaseリアルタイム）</h1>

<div id="mode-selection">
  <p>モードを選んでください：</p>
  <button onclick="startMode('選ぶ')">選ぶ側</button>
  <button onclick="startMode('閲覧')">閲覧モード</button>
</div>

<div id="selection-area" class="hidden">
  <div>
    <p>髪型（1〜10）</p><div class="options" id="hair-list"></div>
    <p>目（1〜5）</p><div class="options" id="eye-list"></div>
    <p>衣装（1〜5）</p><div class="options" id="clothes-list"></div>
    <p>体型（1〜4）</p><div class="options" id="taikei-list"></div>
    <p>性別（1〜3）</p><div class="options" id="seibetu-list"></div>
    <p>装飾品（0〜19）</p><div class="options" id="sousyoku-list"></div>
    <p>身長（100〜200cm）</p><input type="number" id="height" min="100" max="200" step="0.1">
  </div>
  <button onclick="sendSelection()">送信（Firebaseへ）</button>
</div>

<div id="viewer" class="hidden">
  <h2>閲覧モード（リアルタイム）</h2>
  <button onclick="restart()">最初から戻る</button>
  <div id="summary-box-viewer"></div>
</div>

<script>
  // ==== Firebase 設定 ====
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    databaseURL: "https://YOUR_PROJECT_ID-default-rtdb.firebaseio.c
