<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>キャラクター作成</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .form-row { margin-top: 10px; }
        label { margin-right: 15px; }
        select, input[type="number"] { width: 70px; }
        button { margin-top: 10px; }
        .result { margin-top: 20px; }
        .summary { margin-top: 40px; border-top: 1px solid #ccc; padding-top: 20px; }
        .summary div.character { margin-bottom: 10px; }
    </style>
</head>
<body>

<h1>キャラクター作成</h1>

<form id="characterForm">
    <div class="form-row">
        <label>髪型
            <select id="hear" required></select>
        </label>
        <label>目
            <select id="eye" required></select>
        </label>
        <label>衣装
            <select id="clorthes" required></select>
        </label>
    </div>

    <div class="form-row">
        <label>体型
            <select id="taikei" required></select>
        </label>
        <label>性別
            <select id="seibetu" required></select>
        </label>
        <label>装飾
            <select id="sousyoku" required></select>
        </label>
        <label>身長
            <input type="number" id="sintyo" min="100" max="200" required>cm
        </label>
    </div>

    <button type="button" onclick="confirmCharacter()">確認</button>
</form>

<div class="result" id="result"></div>

<div class="summary" id="summary">
    <h2>確定したキャラクター一覧</h2>
</div>

<script>
let characterList = [];

// ドロップダウンを自動生成
function populateSelect(id, start, end) {
    const select = document.getElementById(id);
    for (let i = start; i <= end; i++) {
        const option = document.createElement("option");
        option.value = i;
        option.text = i;
        select.appendChild(option);
    }
}

// 各項目の選択肢を生成
populateSelect("hear", 1, 47);
populateSelect("eye", 1, 8);
populateSelect("clorthes", 1, 8);
populateSelect("taikei", 1, 4);
populateSelect("seibetu", 1, 3);
populateSelect("sousyoku", 0, 19);

function confirmCharacter() {
    const hear = document.getElementById("hear").value;
    const eye = document.getElementById("eye").value;
    const clorthes = document.getElementById("clorthes").value;
    const taikei = document.getElementById("taikei").value;
    const seibetu = document.getElementById("seibetu").value;
    const sousyoku = document.getElementById("sousyoku").value;
    const sintyo = document.getElementById("sintyo").value;

    if (sintyo < 100 || sintyo > 200) {
        alert("身長は100～200cmで入力してください。");
        return;
    }

    const resultDiv = document.getElementById("result");
    resultDiv.innerHTML = `
        <p>髪型: ${hear}, 目: ${eye}, 衣装: ${clorthes}, 体型: ${taikei}, 性別: ${seibetu}, 装飾: ${sousyoku}, 身長: ${sintyo}cm</p>
        <p>でよろしいですか？</p>
        <button onclick="acceptCharacter()">はい</button>
        <button onclick="editCharacter()">いいえ</button>
    `;
}

function acceptCharacter() {
    const character = {
        hear: document.getElementById("hear").value,
        eye: document.getElementById("eye").value,
        clorthes: document.getElementById("clorthes").value,
        taikei: document.getElementById("taikei").value,
        seibetu: document.getElementById("seibetu").value,
        sousyoku: document.getElementById("sousyoku").value,
        sintyo: document.getElementById("sintyo").value
    };

    characterList.push(character);
    renderCharacterList();

    document.getElementById("result").innerHTML = "<p>選択ありがとうございました。</p>";
    document.getElementById("characterForm").reset();
}

function renderCharacterList() {
    const summaryDiv = document.getElementById("summary");
    summaryDiv.innerHTML = "<h2>確定したキャラクター一覧</h2>";

    characterList.forEach((c, index) => {
        const div = document.createElement("div");
        div.className = "character";
        div.innerHTML = `
            <strong>${index + 1}:</strong>
            髪型:${c.hear}, 目:${c.eye}, 衣装:${c.clorthes}, 体型:${c.taikei}, 性別:${c.seibetu}, 装飾:${c.sousyoku}, 身長:${c.sintyo}cm
            <button onclick="deleteCharacter(${index})">削除</button>
        `;
        summaryDiv.appendChild(div);
    });
}

function deleteCharacter(index) {
    characterList.splice(index, 1);
    renderCharacterList();
}

function editCharacter() {
    document.getElementById("result").innerHTML = "<p>もう一度選択してください。</p>";
}
</script>

</body>
</html>
